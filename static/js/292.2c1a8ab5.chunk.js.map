{"version":3,"file":"static/js/292.2c1a8ab5.chunk.js","mappings":"4LACA,EAA4B,8BAA5B,EAAiE,yBAAjE,EAAmG,2BAAnG,EAAsI,0B,SCEvH,SAASA,EAAT,GAA6C,IAAvBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,QACxCC,GAAWC,EAAAA,EAAAA,eAEjB,OACE,eAAIC,UAAWC,EAAf,SACGN,EAAKO,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,MAApB,OACR,eAAaL,UAAWC,EAAxB,UACE,UAAC,KAAD,CACEK,GAAI,CACFC,SAAS,GAAD,OAAKX,EAAL,YAAYO,GACpBK,MAAO,CACLC,KAAM,CACJX,SAAAA,EACAD,QAAAA,KANR,WAWE,cAAGG,UAAWC,EAAd,SAA6BI,KAC7B,gBACEK,IAAG,0CAAqCN,GACxCO,IAAKN,EACLL,UAAWC,QAhBRE,U,oICFF,SAASS,IAAmB,IAAD,IAClCd,GAAWC,EAAAA,EAAAA,eAEjB,GAA0Bc,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOlB,EAAP,KAAaqB,EAAb,KACA,GAA0BH,EAAAA,EAAAA,UAAQ,iBAChCf,QADgC,IAChCA,GADgC,UAChCA,EAAUU,aADsB,aAChC,EAAiBC,KAAKX,SAASD,eADC,QACU,IAD5C,eAAOoB,EAAP,KAAcC,EAAd,KAGQtB,GAAQuB,EAAAA,EAAAA,iBAARvB,KAERwB,EAAAA,EAAAA,YAAU,WACHH,IAGLI,EAAAA,EAAAA,IAAUJ,GAAOK,MAAK,SAAA3B,GACpBqB,EAAQrB,EAAK4B,cAEd,CAACN,IAkBJ,OAFAO,QAAQC,IAAI,aAAc3B,IAGxB,iCACE,kBAAM4B,SAdW,SAAAC,GAGnB,GAFAA,EAAEC,iBAEmB,KAAjBd,EAAMe,OACR,OAAOC,EAAAA,GAAAA,QAAc,2BAEvBZ,EAASJ,GACTC,EAAS,KAOP,WACE,kBACEgB,KAAK,OACLC,KAAK,QACLlB,MAAOA,EACPmB,SAvBiB,SAAAN,GACvBZ,EAASY,EAAEO,cAAcpB,MAAMqB,mBAwB3B,mBAAQJ,KAAK,SAAb,wBAEF,SAACrC,EAAA,EAAD,CAAYE,IAAKA,EAAKD,KAAMA,EAAME,QAASoB,S,oLCrD3CmB,EAAU,mCACVC,EAAW,+BAAjB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,WAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,yGAAmB1C,EAAnB,+BAAyB,GAAzB,SACyB2C,MAAM3C,GAD/B,cACQ4C,EADR,yBAESA,EAASC,QAFlB,mEAKO,SAASC,IACd,OAAOJ,EAAI,GAAD,OAAID,EAAJ,uCAA2CD,IAEhD,SAASO,EAAgBC,GAC9B,OAAON,EAAI,GAAD,OAAID,EAAJ,kBAAsBO,EAAtB,oBAA0CR,IAE/C,SAASS,EAAQD,GACtB,OAAON,EAAI,GAAD,OACLD,EADK,kBACaO,EADb,4BACyCR,EADzC,oBAIL,SAASU,EAAUF,GACxB,OAAON,EAAI,GAAD,OAAID,EAAJ,kBAAsBO,EAAtB,4BAAkDR,EAAlD,YAEL,SAASf,EAAUJ,GACxB,OAAOqB,EAAI,GAAD,OAAID,EAAJ,iCAAqCD,EAArC,kBAAsDnB","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.js","components/views/MoviesPage.js","services/api-service.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cardsList\":\"MoviesList_cardsList__9zZzZ\",\"card\":\"MoviesList_card__55dah\",\"poster\":\"MoviesList_poster__aewlD\",\"title\":\"MoviesList_title__PB2c8\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MoviesList.module.css';\n\nexport default function MoviesList({ data, url, keyword }) {\n  const location = useLocation();\n\n  return (\n    <ul className={styles.cardsList}>\n      {data.map(({ id, poster_path, title }) => (\n        <li key={id} className={styles.card}>\n          <Link\n            to={{\n              pathname: `${url}/${id}`,\n              state: {\n                from: {\n                  location,\n                  keyword,\n                },\n              },\n            }}\n          >\n            <p className={styles.title}>{title}</p>\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n              alt={title}\n              className={styles.poster}\n            />\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useRouteMatch, useLocation } from 'react-router-dom';\nimport { getSearch } from 'services/api-service';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nexport default function MoviesPageViews() {\n  const location = useLocation();\n\n  const [value, setValue] = useState('');\n  const [data, setData] = useState([]);\n  const [movie, setMovie] = useState(\n    location?.state?.from.location.keyword ?? ''\n  );\n  const { url } = useRouteMatch();\n\n  useEffect(() => {\n    if (!movie) {\n      return;\n    }\n    getSearch(movie).then(data => {\n      setData(data.results);\n    });\n  }, [movie]);\n\n  const hendleNameChange = e => {\n    setValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const hendleSubmit = e => {\n    e.preventDefault();\n\n    if (value.trim() === '') {\n      return toast.warning('Enter at least one word');\n    }\n    setMovie(value);\n    setValue('');\n  };\n\n  console.log('~ location', location);\n\n  return (\n    <>\n      <form onSubmit={hendleSubmit}>\n        <input\n          type=\"text\"\n          name=\"value\"\n          value={value}\n          onChange={hendleNameChange}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <MoviesList url={url} data={data} keyword={movie} />\n    </>\n  );\n}\n","const API_KEY = '6ab460452e9d6fb8f59cab399bd5ef0f';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function Api(url = '') {\n  const response = await fetch(url);\n  return response.json();\n}\n\nexport function getTrending() {\n  return Api(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n}\nexport function getMovieDetails(moviesId) {\n  return Api(`${BASE_URL}/movie/${moviesId}?api_key=${API_KEY}`);\n}\nexport function getCast(moviesId) {\n  return Api(\n    `${BASE_URL}/movie/${moviesId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\nexport function getRewiew(moviesId) {\n  return Api(`${BASE_URL}/movie/${moviesId}/reviews?api_key=${API_KEY}&page=1`);\n}\nexport function getSearch(movie) {\n  return Api(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${movie}`);\n}\n"],"names":["MoviesList","data","url","keyword","location","useLocation","className","styles","map","id","poster_path","title","to","pathname","state","from","src","alt","MoviesPageViews","useState","value","setValue","setData","movie","setMovie","useRouteMatch","useEffect","getSearch","then","results","console","log","onSubmit","e","preventDefault","trim","toast","type","name","onChange","currentTarget","toLowerCase","API_KEY","BASE_URL","Api","fetch","response","json","getTrending","getMovieDetails","moviesId","getCast","getRewiew"],"sourceRoot":""}